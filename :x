#include <stdarg.h>
#include "main.h"
/**
*/
int _printf(const char *format, ...)
{
	int n = 0;
	va_list list;

	va_start(list, format);

	while (format && format[n])
	{
		if (format[n] == '%')
		{
			if (format[n + 1] == 'c')
				picker(format[n + 1])(list);
			else if (format[n + 1] == 's')
				printf("%s", va_arg (list, char *));
				/*picker(format[n + 1])(va_arg (list, char*));*/
			else if (format [n + 1] == '%')
				_putchar_c('%');
		}
		else
		{
			_putchar_c(format[n]);
		}
		n++;
	}
	va_end(list);
	return (0);
}


int (*picker(char *ch))(va_list list)
{
	op_p ops[] = {
		{"c", _putchar_c},
		{"s", _putchar_s},
	};
	int i = 0;

	while (i < 2)
	{
		if (*ops[i].op == ch)
			return (ops[i].f);
		i++;
	}
}
